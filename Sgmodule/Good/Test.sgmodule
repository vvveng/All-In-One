#!name= âžŠæµ‹è¯•æ¨¡å—
#!desc= å¯ç”¨äºŽå“åº”ä½“æˆ–è€…è¯·æ±‚ä½“æ›¿æ¢çš„æµ‹è¯•
#!category=ðŸŒ™
#!arguments=hostname:hostname,request-pattern:request-pattern,request-argument:request-argument,response-pattern:response-pattern,response-argument:response-argument
#!arguments-desc=å‚æ•°è¯´æ˜Žï¼š\nrequest-patternä¸ºè¯·æ±‚ä½“é“¾æŽ¥çš„æ­£åˆ™è¡¨è¾¾å¼\nrequest-argumentä¸ºè¯·æ±‚ä½“è¦è¢«æ›¿æ¢çš„æ•°å€¼å’Œæ›¿æ¢çš„å†…å®¹\nresponse-patternä¸ºå“åº”ä½“é“¾æŽ¥çš„æ­£åˆ™è¡¨è¾¾å¼\nresponse-argumentä¸ºè¯·æ±‚ä½“è¦è¢«æ›¿æ¢çš„æ•°å€¼å’Œæ›¿æ¢çš„å†…å®¹\n\nè¢«æ›¿æ¢çš„æ•°å€¼å’Œæ›¿æ¢çš„å†…å®¹ä¸­é—´ä½¿ç”¨ -> è¿žæŽ¥ï¼›å¤šé¡¹è¢«æ›¿æ¢çš„å†…å®¹ç”¨&åˆ†å‰²\n\næ”¯æŒæ­£åˆ™ä¿®é¥°ç¬¦ï¼šå¦‚argument=/\w+/g->test\n\nä¿®æ”¹jsonæ ¼å¼çš„é”®å€¼å¯¹å¯ä»¥è¿™æ ·ï¼š\nargument=("key")\s?:\s?"(.+?)"->$1: "new_value"\n\nç¤ºä¾‹:\nè¯·æ±‚æµ‹è¯• = type=http-request,requires-body=1,script-path=https://raw.githubusercontent.com/vvveng/All-In-One/main/JS/Good/replace.js, pattern=^https?:\/\/testflight\.apple\.com\/v\d\/accounts\/.+?\/install$, argument=("storefrontId")\s?:\s?"(.+?)"->$1: "143441-19,29"

[MITM]
hostname = {{{hostname}}}

[Script]

è¯·æ±‚æµ‹è¯• = type=http-request,requires-body=1,script-path=https://raw.githubusercontent.com/vvveng/All-In-One/main/JS/Good/replace.js, pattern={{{request-pattern}}}, argument={{{request-argument}}}


å“åº”æµ‹è¯• = type=http-response,requires-body=1,script-path=https://raw.githubusercontent.com/vvveng/All-In-One/main/JS/Good/replace.js, pattern={{{response-pattern}}}, argument={{{response-argument}}}

# ç¤ºä¾‹å¦‚ä¸‹

#è¯·æ±‚æµ‹è¯• = type=http-request,requires-body=1,script-path=https://raw.githubusercontent.com/vvveng/All-In-One/main/JS/Good/replace.js, pattern=^https?:\/\/testflight\.apple\.com\/v\d\/accounts\/.+?\/install$, argument=("storefrontId")\s?:\s?"(.+?)"->$1: "143441-19,29"

#å“åº”æµ‹è¯• = type=http-response,requires-body=1,script-path=https://gitlab.com/vvveng/All-In-One/-/raw/main/JS/replace-body.js, pattern=https://service.ilovepdf.com/v1/user, argument=false->true

# argument=è¦åŒ¹é…å€¼=ä½œä¸ºæ›¿æ¢çš„å€¼
# æ”¯æŒæ­£åˆ™ï¼šå¦‚argument=\w+->test
# æ”¯æŒæ­£åˆ™ä¿®é¥°ç¬¦ï¼šå¦‚argument=/\w+/g->test
# æ”¯æŒå¤šå‚æ•°ï¼Œå¦‚ï¼šargument=åŒ¹é…å€¼1->æ›¿æ¢å€¼1&åŒ¹é…å€¼2->æ›¿æ¢å€¼2

# æ”¯æŒæ”¹å†™å“åº”ä½“å’Œè¯·æ±‚ä½“ä½“ï¼ˆtype=http-response æˆ– http-requestï¼‰æ³¨æ„å¿…é¡»æ‰“å¼€éœ€è¦bodyï¼ˆrequires-body=1ï¼‰

# ä¿®æ”¹jsonæ ¼å¼çš„é”®å€¼å¯¹å¯ä»¥è¿™æ ·ï¼š
# argument=("key")\s?:\s?"(.+?)"->$1: "new_value"

# sä¿®é¥°ç¬¦å¯ä»¥è®©.åŒ¹é…æ¢è¡Œç¬¦ï¼Œå¦‚ argument=/.+/s->hello